# ATSUME ユースケース一覧

## 概要

ATSUMEは、スポーツイベントや勉強会などの参加者管理を行うモバイルアプリケーションです。
本ドキュメントでは、アプリで実現すべき全ユースケースを整理します。

---

## 1. 認証・アカウント管理

### UC-1.1 新規ユーザー登録
| 項目 | 内容 |
|------|------|
| アクター | 未登録ユーザー |
| 事前条件 | アプリをインストール済み |
| 基本フロー | 1. 新規登録画面を開く<br>2. メールアドレスを入力<br>3. パスワードを設定（6文字以上）<br>4. 確認パスワードを入力<br>5. 表示名を入力<br>6. 利用規約に同意<br>7. 登録ボタンを押す |
| 事後条件 | アカウントが作成され、オンボーディング画面に遷移 |
| 代替フロー | メールアドレスが既に使用済みの場合、エラー表示 |

### UC-1.2 ログイン
| 項目 | 内容 |
|------|------|
| アクター | 登録済みユーザー |
| 事前条件 | アカウントが存在する |
| 基本フロー | 1. ログイン画面を開く<br>2. メールアドレスを入力<br>3. パスワードを入力<br>4. ログインボタンを押す |
| 事後条件 | ホーム画面に遷移 |
| 代替フロー | 認証失敗時、エラーメッセージを表示 |

### UC-1.3 パスワードリセット
| 項目 | 内容 |
|------|------|
| アクター | パスワードを忘れたユーザー |
| 事前条件 | アカウントが存在する |
| 基本フロー | 1. ログイン画面で「パスワードをお忘れですか？」をタップ<br>2. メールアドレスを入力<br>3. 送信ボタンを押す<br>4. メールのリンクをクリック<br>5. 新しいパスワードを設定 |
| 事後条件 | パスワードが更新される |

### UC-1.4 ログアウト
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | ログイン状態 |
| 基本フロー | 1. 設定画面を開く<br>2. ログアウトボタンを押す<br>3. 確認ダイアログでOKを押す |
| 事後条件 | ログイン画面に遷移 |

### UC-1.5 アカウント削除
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | ログイン状態 |
| 基本フロー | 1. 設定画面を開く<br>2. アカウント削除をタップ<br>3. 確認ダイアログで削除を確定 |
| 事後条件 | アカウントと関連データが削除される |

### UC-1.6 プロフィール編集
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | ログイン状態 |
| 基本フロー | 1. 設定画面を開く<br>2. プロフィール編集をタップ<br>3. 表示名を変更<br>4. スキルレベルを選択<br>5. 保存ボタンを押す |
| 事後条件 | プロフィールが更新される |

### UC-1.7 プロフィール画像変更
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | ログイン状態 |
| 基本フロー | 1. 設定画面またはプロフィール編集画面を開く<br>2. プロフィール画像をタップ<br>3. 画像を選択（カメラ/ギャラリー）<br>4. 保存 |
| 事後条件 | プロフィール画像が更新される |

### UC-1.8 パスワード変更
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | ログイン状態 |
| 基本フロー | 1. 設定画面を開く<br>2. パスワード変更をタップ<br>3. 現在のパスワードを入力<br>4. 新しいパスワードを入力<br>5. 確認パスワードを入力<br>6. 変更ボタンを押す |
| 事後条件 | パスワードが更新される |

---

## 2. イベント管理（主催者向け）

### UC-2.1 イベント作成（基本）
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | ログイン状態 |
| 基本フロー | 1. ホーム画面で「+ 作成する」をタップ<br>2. イベント名を入力<br>3. 日付を選択<br>4. 時刻を選択<br>5. 場所を入力<br>6. 参加費を入力<br>7. 作成ボタンを押す |
| 事後条件 | イベントが作成され、招待コードが発行される |

### UC-2.2 イベント作成（詳細オプション）
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | UC-2.1の基本入力完了 |
| 追加フロー | - 説明文を入力<br>- 定員を設定<br>- 参加パスワードを設定<br>- スキルレベル設定を有効化<br>- 性別設定を有効化（性別別参加費） |
| 事後条件 | 詳細オプション付きでイベントが作成される |

### UC-2.3 イベント編集
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | 自分が主催するイベントが存在する |
| 基本フロー | 1. イベント詳細画面を開く<br>2. 編集ボタンをタップ<br>3. 各フィールドを編集<br>4. 保存ボタンを押す |
| 事後条件 | イベント情報が更新される |

### UC-2.4 イベント削除
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | 自分が主催するイベントが存在する |
| 基本フロー | 1. イベント編集画面を開く<br>2. 削除ボタンをタップ<br>3. 確認ダイアログで削除を確定 |
| 事後条件 | イベントと関連データが削除される |

### UC-2.5 イベントステータス変更
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | 自分が主催するイベントが存在する |
| 基本フロー | 1. イベント詳細画面を開く<br>2. ステータストグルを切り替え（実施予定⇔終了） |
| 事後条件 | イベントステータスが変更される |

### UC-2.6 招待コード共有
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者/参加者 |
| 事前条件 | イベントに参加している |
| 基本フロー | 1. イベント詳細画面を開く<br>2. 招待コードをタップしてコピー<br>3. または共有ボタンで他アプリに共有 |
| 事後条件 | 招待コードがクリップボード/他アプリに渡される |

### UC-2.7 参加受付締切日時を設定
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | 自分が主催するイベントが存在する |
| 基本フロー | 1. イベント編集画面を開く<br>2. 参加受付締切日時を設定<br>3. 保存ボタンを押す |
| 事後条件 | 参加受付締切日時が設定される |

### UC-2.8 参加受付を締め切る
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | イベントが参加受付中 |
| 基本フロー | 1. イベント詳細画面を開く<br>2. 参加受付状態カードの「参加受付を締め切る」をタップ |
| 事後条件 | 参加受付が締め切られる |

### UC-2.9 参加受付を再開する
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | 参加受付が締切済み |
| 基本フロー | 1. イベント詳細画面を開く<br>2. 参加受付状態カードの「参加受付を再開する」をタップ |
| 事後条件 | 参加受付が再開される |

### UC-2.10 イベントを複製
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | 自分が主催するイベントが存在する |
| 基本フロー | 1. イベント作成画面でコピー対象を選択<br>2. 作成ボタンを押す |
| 事後条件 | 既存イベントを元に新しいイベントが作成される |

---

## 3. イベント参加（参加者向け）

### UC-3.1 イベントに参加（コード入力）
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | 招待コードを持っている |
| 基本フロー | 1. ホーム画面で「参加する」をタップ<br>2. 6桁の招待コードを入力<br>3. 次へボタンを押す<br>4. イベント情報を確認<br>5. 参加するボタンを押す |
| 事後条件 | イベントに参加し、ホーム画面に表示される |
| 代替フロー | パスワード必須の場合、パスワード入力画面を表示 |

### UC-3.2 パスワード付きイベントに参加
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | パスワード付きイベントの招待コードを持っている |
| 基本フロー | 1. UC-3.1の手順1-4を実行<br>2. パスワード入力フィールドが表示される<br>3. パスワードを入力<br>4. 参加するボタンを押す |
| 事後条件 | イベントに参加 |
| 代替フロー | パスワードが間違っている場合、エラー表示 |

### UC-3.3 イベントから退会
| 項目 | 内容 |
|------|------|
| アクター | イベント参加者（主催者以外） |
| 事前条件 | イベントに参加している |
| 基本フロー | 1. イベント詳細画面を開く<br>2. 退会ボタンをタップ<br>3. 確認ダイアログで退会を確定 |
| 事後条件 | イベントから退会し、ホーム画面から削除される |

### UC-3.4 招待リンクからイベントに参加
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | 招待リンクを受け取っている |
| 基本フロー | 1. 招待リンクを開く<br>2. イベント情報を確認<br>3. 参加するボタンを押す |
| 事後条件 | イベントに参加し、イベント詳細画面に遷移 |

---

## 4. 参加者管理（主催者向け）

### UC-4.1 参加者一覧を確認
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者/参加者 |
| 事前条件 | イベントに参加している |
| 基本フロー | 1. イベント詳細画面を開く<br>2. 参加受付タブを選択 |
| 事後条件 | 参加者一覧が表示される |

### UC-4.2 手動で参加者を追加
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | 自分が主催するイベントが存在する |
| 基本フロー | 1. 参加受付タブを開く<br>2. 追加ボタンをタップ<br>3. 参加者名を入力<br>4. （オプション）スキルレベル/性別を設定<br>5. 追加ボタンを押す |
| 事後条件 | 手動参加者が追加される |

### UC-4.3 参加者の出席状況を変更
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | 参加者が存在する |
| 基本フロー | 1. 参加受付タブを開く<br>2. 参加者をタップ<br>3. 出席状況を選択（出席予定/欠席/未定） |
| 事後条件 | 出席状況が更新される |

### UC-4.4 出席確認（チェックイン）
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | イベント当日 |
| 基本フロー | 1. チェックインタブを開く<br>2. 参加者のチェックインボタンをタップ<br>3. または一括チェックインを実行 |
| 事後条件 | 出席が確認される（タイムスタンプ記録） |

### UC-4.5 参加者を削除
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | 参加者が存在する |
| 基本フロー | 1. 参加受付タブを開く<br>2. 参加者をスワイプまたは長押し<br>3. 削除を選択<br>4. 確認ダイアログで削除を確定 |
| 事後条件 | 参加者が削除される |

### UC-4.6 参加者のスキルレベル/性別を設定
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | イベントでスキルレベル/性別設定が有効 |
| 基本フロー | 1. 参加受付タブを開く<br>2. 参加者をタップ<br>3. スキルレベル/性別を選択<br>4. 保存 |
| 事後条件 | 参加者情報が更新される |

### UC-4.7 主催者を参加者として追加
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | 自分が主催するイベントが存在する |
| 基本フロー | 1. イベント詳細画面を開く<br>2. 「参加者として追加する」をタップ |
| 事後条件 | 主催者が参加者として登録される |

### UC-4.8 当日参加者を追加
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | イベント当日 |
| 基本フロー | 1. チェックインタブを開く<br>2. 「当日参加者を追加」をタップ<br>3. 参加者情報を入力して追加 |
| 事後条件 | 当日参加者が追加される |

---

## 5. 支払い管理

### UC-5.1 支払い状況を確認
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者/参加者 |
| 事前条件 | 参加費のあるイベントに参加 |
| 基本フロー | 1. イベント詳細画面を開く<br>2. 集金タブを選択 |
| 事後条件 | 支払い状況一覧が表示される |

### UC-5.2 支払いを報告（参加者）
| 項目 | 内容 |
|------|------|
| アクター | イベント参加者 |
| 事前条件 | 参加費が未払い |
| 基本フロー | 1. 集金タブを開く<br>2. 支払い報告ボタンをタップ<br>3. （任意）送金メモを入力<br>4. 報告するボタンを押す |
| 事後条件 | 支払い状況が「確認待ち」に変更 |

### UC-5.3 支払いを確認（主催者）
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | 参加者の支払い状況が「確認待ち」 |
| 基本フロー | 1. 集金タブを開く<br>2. 参加者の支払い確認ボタンをタップ |
| 事後条件 | 支払い状況が「支払済」に変更 |

### UC-5.4 支払い状況を手動変更
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | 参加者が存在する |
| 基本フロー | 1. 集金タブを開く<br>2. 参加者をタップ<br>3. 支払い状況を選択（未払い/確認待ち/支払済） |
| 事後条件 | 支払い状況が更新される |

### UC-5.5 支払い情報を設定
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | 自分が主催するイベントが存在する |
| 基本フロー | 1. 集金タブを開く<br>2. 支払い情報を設定をタップ<br>3. 支払い方法と詳細を入力<br>4. 保存 |
| 事後条件 | 支払い情報が参加者に表示される |

### UC-5.6 支払い情報を削除
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | 支払い情報が設定済み |
| 基本フロー | 1. 集金タブを開く<br>2. 支払い情報の削除を選択<br>3. 確認ダイアログで削除を確定 |
| 事後条件 | 支払い情報が削除される |

---

## 6. チーム管理

### UC-6.1 チームを作成
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | イベントが存在する |
| 基本フロー | 1. チームタブを開く<br>2. チーム追加ボタンをタップ<br>3. チーム名を入力<br>4. チームカラーを選択<br>5. 作成ボタンを押す |
| 事後条件 | チームが作成される |

### UC-6.2 チームにメンバーを追加
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | チームと参加者が存在する |
| 基本フロー | 1. チームタブを開く<br>2. チームを選択<br>3. メンバー追加ボタンをタップ<br>4. 参加者を選択<br>5. 追加を確定 |
| 事後条件 | 参加者がチームに追加される |

### UC-6.3 自動チーム分け
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | 参加者とチームが存在する |
| 基本フロー | 1. チームタブを開く<br>2. 自動振り分けボタンをタップ<br>3. 振り分け方法を選択（ランダム/スキルバランス）<br>4. 実行 |
| 事後条件 | 参加者がチームに自動振り分けされる |

### UC-6.4 チームからメンバーを削除
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | チームメンバーが存在する |
| 基本フロー | 1. チームタブを開く<br>2. チームを選択<br>3. メンバーをスワイプ/長押し<br>4. 削除を選択 |
| 事後条件 | メンバーがチームから削除される |

### UC-6.5 チームを削除
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | チームが存在する |
| 基本フロー | 1. チームタブを開く<br>2. チームを長押しまたはスワイプ<br>3. 削除を選択<br>4. 確認ダイアログで削除を確定 |
| 事後条件 | チームが削除される |

---

## 7. 対戦表・トーナメント管理

### UC-7.1 トーナメントを作成
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | チームが2つ以上存在する |
| 基本フロー | 1. 対戦表タブを開く<br>2. トーナメント作成ボタンをタップ<br>3. 形式を選択（シングルエリミネーション/ダブルエリミネーション/リーグ戦/スイス式/グループステージ）<br>4. 設定を調整<br>5. 作成ボタンを押す |
| 事後条件 | トーナメントと試合スケジュールが生成される |

### UC-7.2 試合結果を入力
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | 試合が存在する |
| 基本フロー | 1. 対戦表タブを開く<br>2. 試合を選択<br>3. スコアを入力<br>4. 勝者を確定<br>5. 保存 |
| 事後条件 | 試合結果が記録され、次の対戦が更新される |

### UC-7.3 順位表を確認
| 項目 | 内容 |
|------|------|
| アクター | イベント参加者 |
| 事前条件 | リーグ戦またはグループステージが進行中 |
| 基本フロー | 1. 対戦表タブを開く<br>2. 順位表を確認 |
| 事後条件 | 現在の順位が表示される |

---

## 8. タイマー機能

### UC-8.1 タイマーを開始
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者/参加者 |
| 事前条件 | イベントに参加している |
| 基本フロー | 1. タイマータブを開く<br>2. 時間を設定<br>3. スタートボタンを押す |
| 事後条件 | タイマーがカウントダウン開始 |

### UC-8.2 複数タイマーを管理
| 項目 | 内容 |
|------|------|
| アクター | イベント主催者 |
| 事前条件 | タイマー機能が利用可能 |
| 基本フロー | 1. タイマータブを開く<br>2. タイマー追加ボタンをタップ<br>3. 新しいタイマーを設定<br>4. 複数タイマーを同時実行 |
| 事後条件 | 複数のタイマーが管理される |

---

## 9. 通知機能

### UC-9.1 通知一覧を確認
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | ログイン状態 |
| 基本フロー | 1. 通知タブをタップ<br>2. 通知一覧を確認 |
| 事後条件 | 通知一覧が表示される |

### UC-9.2 通知設定を変更
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | ログイン状態 |
| 基本フロー | 1. 設定画面を開く<br>2. 通知設定をタップ<br>3. 各通知種別のON/OFFを切り替え |
| 事後条件 | 通知設定が更新される |

---

## 10. 表示・UI関連

### UC-10.1 リスト/カレンダー表示切り替え
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | ホーム画面表示中 |
| 基本フロー | 1. ホーム画面でリスト/カレンダーアイコンをタップ |
| 事後条件 | 表示形式が切り替わる |

### UC-10.2 テーマ変更
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | ログイン状態 |
| 基本フロー | 1. 設定画面を開く<br>2. テーマを選択（ライト/ダーク/自動） |
| 事後条件 | アプリのテーマが変更される |

### UC-10.3 オンボーディング完了
| 項目 | 内容 |
|------|------|
| アクター | 新規ユーザー |
| 事前条件 | 初回ログイン後 |
| 基本フロー | 1. オンボーディング画面でスライドを確認<br>2. 次へボタンで進むまたはスキップ<br>3. 最後のスライドで完了 |
| 事後条件 | ホーム画面に遷移し、オンボーディングは表示されなくなる |

---

## 11. その他

### UC-11.1 FAQ確認
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | ログイン状態 |
| 基本フロー | 1. 設定画面を開く<br>2. よくある質問をタップ<br>3. 質問をタップして回答を確認 |
| 事後条件 | FAQ情報が表示される |

### UC-11.2 お問い合わせ
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | ログイン状態 |
| 基本フロー | 1. 設定画面を開く<br>2. お問い合わせをタップ<br>3. 内容を入力<br>4. 送信 |
| 事後条件 | お問い合わせが送信される |

### UC-11.3 利用規約確認
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | ログイン状態 |
| 基本フロー | 1. 設定画面を開く<br>2. 利用規約をタップ |
| 事後条件 | 利用規約が表示される |

### UC-11.4 プライバシーポリシー確認
| 項目 | 内容 |
|------|------|
| アクター | ログイン済みユーザー |
| 事前条件 | ログイン状態 |
| 基本フロー | 1. 設定画面を開く<br>2. プライバシーポリシーをタップ |
| 事後条件 | プライバシーポリシーが表示される |

---

## ユースケース優先度

### 必須（MVP）
- UC-1.1〜1.4（認証基本）
- UC-2.1, 2.3, 2.5, 2.6（イベント基本管理）
- UC-3.1, 3.3（イベント参加）
- UC-4.1〜4.3（参加者基本管理）
- UC-5.1〜5.3（支払い基本管理）
- UC-10.1, 10.3（基本UI）

### 重要
- UC-1.5〜1.8（アカウント詳細管理）
- UC-2.2, 2.4, 2.7〜2.10（イベント詳細管理）
- UC-3.2, 3.4（パスワード付き参加/招待リンク参加）
- UC-4.4〜4.8（参加者詳細管理）
- UC-5.4〜5.6（支払い詳細管理）
- UC-6.1〜6.5（チーム管理）
- UC-9.1〜9.2（通知）

### 拡張
- UC-7.1〜7.3（トーナメント）
- UC-8.1〜8.2（タイマー）
- UC-10.2（テーマ）
- UC-11.1〜11.4（その他）

---

## E2Eテスト対象

以下のユースケースをE2Eテストで検証する：

| # | ユースケース | テスト可能性 |
|---|-------------|-------------|
| 1 | UC-1.2 ログイン | ✅ 可能 |
| 2 | UC-2.1 イベント作成（基本） | ✅ 可能 |
| 3 | UC-2.5 イベントステータス変更 | ✅ 可能 |
| 4 | UC-2.6 招待コード共有 | ✅ 可能 |
| 5 | UC-3.1 イベントに参加 | ✅ 可能 |
| 6 | UC-4.1 参加者一覧を確認 | ✅ 可能 |
| 7 | UC-4.2 手動で参加者を追加 | ✅ 可能 |
| 8 | UC-5.1 支払い状況を確認 | ✅ 可能 |
| 9 | UC-6.1 チームを作成 | ✅ 可能 |
| 10 | UC-9.1 通知一覧を確認 | ✅ 可能 |
| 11 | UC-10.1 リスト/カレンダー切替 | ✅ 可能 |
| 12 | UC-1.4 ログアウト | ✅ 可能 |
